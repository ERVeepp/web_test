import{d as y,A as D,k as _,v as l,x as p,i as g,j as u,t as v,b as j}from"./vendor-6e462d07.js";import{U as k,_ as w}from"./index-61a6cbc8.js";import"./index-07a9b6a7.js";const A=l("h1",null,"A",-1),N={class:"app-container"},O=y({setup(T){let e=D({data:{},arr:[],tableData:[],tableHeader:[],chartData:{tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{show:!0,backgroundColor:"#6a7985"}}},legend:{show:!0,data:["all"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:[]}],yAxis:[{type:"value"}],series:[{name:"",type:"line",stack:"Total",emphasis:{focus:"series"},data:[]}]}});const m=a=>!0,h=({results:a,header:o})=>{e.tableData=a,e.tableHeader=o;const t=b(a);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const n=t[r];e.chartData.xAxis[0].data.push(r),e.chartData.series[0].data.push(n)}},b=a=>{e.chartData.xAxis[0].data=[],e.chartData.series[0].data=[];const o=[],t={};return a.map((r,n)=>{let f=r["Attributed Touch Time"],x=r["Install Time"],c=i(f),d=i(x),s=0;!isNaN(c)&&!isNaN(d)&&(s=(d-c)/1e3,s=parseInt(s),t.hasOwnProperty(s)?t[s]++:t[s]=1,o.push(s))}),e.arr=o.sort((r,n)=>r-n),t},i=(a,o)=>new Date((a-1)*24*36e5+1).getTime();return(a,o)=>(j(),_("div",null,[A,l("div",N,[p(k,{"on-success":h,"before-upload":m}),g(` <el-table :data="state.tableData" border highlight-current-row style="width: 100%;margin-top:20px;">
        <el-table-column v-for="item of state.tableHeader" :key="item" :prop="item" :label="item" />
      </el-table> `)]),l("div",null,[p(w,{"chart-data":u(e).chartData},null,8,["chart-data"])]),l("div",null,[l("p",null,v(u(e).arr),1)])]))}});export{O as default};
